// Sass Mixins for Design System

@import './variables';

// Responsive breakpoint mixin
@mixin respond-to($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (min-width: map-get($breakpoints, $breakpoint)) {
      @content;
    }
  }

  @else {
    @warn "Unknown breakpoint: #{$breakpoint}";
  }
}

// Max-width breakpoint mixin
@mixin respond-to-max($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    $max-width: map-get($breakpoints, $breakpoint) - 1px;

    @media (max-width: $max-width) {
      @content;
    }
  }

  @else {
    @warn "Unknown breakpoint: #{$breakpoint}";
  }
}

// Z-index helper
@mixin z-index($level) {
  @if map-has-key($z-index, $level) {
    z-index: map-get($z-index, $level);
  }

  @else {
    @warn "Unknown z-index level: #{$level}";
  }
}

// Transition helper
@mixin transition($property: all, $duration: normal, $easing: ease-out) {
  $duration-value: map-get($transition-duration, $duration);
  $easing-value: map-get($easing, $easing);

  @if $duration-value {
    transition: $property $duration-value $easing-value;
  }

  @else {
    transition: $property $duration $easing;
  }
}

// Focus visible styles
@mixin focus-visible {
  &:focus-visible {
    outline: 2px solid var(--primary-500);
    outline-offset: 2px;
  }
}

// Truncate text
@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// Line clamp
@mixin line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// Scrollbar styling
@mixin custom-scrollbar($width: 6px, $track-color: transparent, $thumb-color: rgba(87, 83, 78, 0.3)) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }

  &::-webkit-scrollbar-track {
    background: $track-color;
  }

  &::-webkit-scrollbar-thumb {
    background: $thumb-color;
    border-radius: calc($width / 2);

    &:hover {
      background: rgba(87, 83, 78, 0.5);
    }
  }
}

// RTL support
@mixin rtl {
  [dir='rtl'] & {
    @content;
  }
}

@mixin ltr {
  [dir='ltr'] & {
    @content;
  }
}
